{"version":3,"sources":["../../app-es6/helpers/AjaxHelper.js"],"names":["AjaxHelper","handler","metodo","dados","undefined","assicrono","tipoRetorno","tipoDados","sucesso","validarFuncaoHandler","erro","antesDeEnviar","finalizado","funcao","Function","event","xhr","readyState","url","_configurarHandler","XMLHttpRequest","ActiveXObject","onload","onXhrLoad","onreadystatechange","onXhrStateChange","responseType","open","setRequestHeader","setTimeout","send","status","response"],"mappings":"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","sourcesContent":["export class AjaxHelper {\n\t\n\tstatic ajax = handler => {\n\t\tif (!handler.url) {\n\t\t\treturn\n\t\t}\n\t\t\n\t\tthis._configurarHandler(handler)\n\t\tconst xhr = typeof XMLHttpRequest != 'undefined'\n\t\t            ? new XMLHttpRequest()\n\t\t            : new ActiveXObject('Microsoft.XMLHTTP')\n\t\t\n\t\txhr.onload = event => this.onXhrLoad(event, xhr, handler)\n\t\txhr.onreadystatechange = event => this.onXhrStateChange(event, xhr, handler)\n\t\txhr.responseType = handler.tipoRetorno\n\t\t\n\t\thandler.antesDeEnviar()\n\t\t\n\t\txhr.open(handler.metodo, handler.url, handler.assicrono)\n\t\txhr.setRequestHeader(\"Content-type\", handler.tipoDados)\n\t\tsetTimeout(() => xhr.send(handler.dados), 1000) // simulando um delay de requisição...\n\t}\n\t\n\tstatic _configurarHandler(handler) {\n\t\thandler.metodo = handler.metodo || 'GET'\n\t\thandler.dados = handler.dados || undefined\n\t\thandler.assicrono = handler.assicrono || true\n\t\thandler.tipoRetorno = handler.tipoRetorno || \"text\"\n\t\thandler.tipoDados = handler.tipoDados || \"*/*\"\n\t\thandler.sucesso = this.validarFuncaoHandler(handler.sucesso)\n\t\thandler.erro = this.validarFuncaoHandler(handler.erro)\n\t\thandler.antesDeEnviar = this.validarFuncaoHandler(handler.antesDeEnviar)\n\t\thandler.finalizado = this.validarFuncaoHandler(handler.finalizado)\n\t}\n\t\n\tstatic validarFuncaoHandler(funcao) {\n\t\treturn (funcao !== undefined && typeof (funcao) === 'function')\n\t\t       ? funcao\n\t\t       : new Function()\n\t}\n\t\n\tstatic onXhrLoad = (event, xhr, handler) => {\n\t\tif (200 <= xhr.status && xhr.status < 300) {     // 2xx : ok\n\t\t\thandler.sucesso(xhr.response)\n\t\t} else if (xhr.status >= 400) { // 4xx : erro no cliente | 5xx : erro no servidor\n\t\t\thandler.erro(xhr.response)\n\t\t}\n\t}\n\t\n\tstatic onXhrStateChange(event, xhr, handler) {\n\t\tif (xhr.readyState === 4) { handler.finalizado(event) }\n\t}\n}"],"file":"AjaxHelper.js"}